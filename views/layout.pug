doctype html
html
  head
    title= title
    link(rel="stylesheet", href="/semantic/semantic.min.css")
    link(rel="stylesheet", href="/stylesheets/style.css")
    script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js")
    script(src="/javascripts/active.js")
    script(src="/socket.io/socket.io.js")
    a#titre(href="/")= "Matcha"
    br
    br
    if (user)
      .ui.menu#grey
        a.item#index(href="/") Index
          a.item#u(href="/u") Utilisateurs
        .right.menu
          if (user)
            a.item#profil(href="/profil") Profil
            a.item#logout(href="/logout") DÃ©connection
          else
            a.item#login(href="login") Connection
            a.item#register(href="/register") Nouveau ?
    if (locals && locals.error)
      .ui.error.message
        .header Erreur
        i.close.icon
        p= locals.error
    if (locals && locals.success)
      .ui.success.message
        .header Message
        i.close.icon
        p= locals.success
    if (locals && locals.warning)
      .ui.warning.message
        .header Message
        i.close.icon
        p= locals.warning
    if (locals && locals.info)
      .ui.info.message
        .header Info
        i.close.icon
        p= locals.info
    br
    if (user)
      script.
        var socket = io.connect();
        socket.on('data', function (data) {
        console.log(data);
        });

        socket.on('error', function (reason){
          console.error('Unable to connect Socket.IO', reason);
        });

        socket.on('connect', function (){
          console.info('successfully established a working and authorized connection');
        });
        socket.on('notif', function( data ) {
          alert(data);
        });
  body
    block content
